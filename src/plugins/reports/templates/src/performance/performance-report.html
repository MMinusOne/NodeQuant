<!DOCTYPE html>
<html class="w-full h-full" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Performance Report</title>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/lightweight-charts/dist/lightweight-charts.standalone.production.min.js"></script>
    <script defer>
      document.addEventListener('DOMContentLoaded', function () {
        const chartOptions = {
          layout: {
            textColor: '#D4D4D4',
            background: { type: 'solid', color: '#1E293B' },
          },
          grid: {
            vertLines: { visible: false },
            horzLines: { visible: false },
          },
        }
        const chart = LightweightCharts.createChart(
          document.getElementById('container'),
          chartOptions,
        )

        const candlestickSeries = chart.addSeries(
          LightweightCharts.CandlestickSeries,
          {
            upColor: '#26a69a',
            downColor: '#ef5350',
            borderVisible: false,
            wickUpColor: '#26a69a',
            wickDownColor: '#ef5350',
          },
        )

        async function displayChartData() {
          const data = await fetch(`./BTC_USDT_726_4h.json`).then((r) =>
            r.json(),
          )
          const candlestickData = data.map((candle) => {
            return {
              time: candle[0],
              open: candle[1],
              high: candle[2],
              low: candle[3],
              close: candle[4],
            }
          })
    
          candlestickSeries.setData(candlestickData);


          chart.timeScale().fitContent()
        }
        displayChartData()
      })
    </script>
  </head>
  <body class="m-0 p-0 w-full h-full">
    <div class="flex flex-col w-full h-full">
      <div class="bg-slate-900 w-full h-full" id="container"></div>
      <div class="bg-slate-700 w-full"></div>
    </div>
  </body>
</html>
